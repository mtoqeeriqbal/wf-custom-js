{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/utils/finsweet.ts", "../src/utils/simplemap.ts", "../src/utils/states.ts", "../src/index.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "/**\n * Initializes Finsweet Attributes and defines the global filterByState function.\n */\n\n// Extend the Window interface to include FinsweetAttributes and filterByState\ndeclare global {\n  interface Window {\n    FinsweetAttributes: [string, () => void][];\n    filterByState?: (stateValue: string) => void;\n  }\n}\n\nexport const initializeFinsweetAttributes = () => {\n  window.FinsweetAttributes ||= [];\n\n  window.FinsweetAttributes.push([\n    'list',\n    () => {\n      // Define the global function\n      window.filterByState = function (stateValue: string) {\n        const dropdowns = document.querySelectorAll(\n          '[fs-list-field=\"state\"]'\n        ) as NodeListOf<HTMLSelectElement>;\n\n        if (!dropdowns || dropdowns.length === 0) {\n          return;\n        }\n\n        dropdowns.forEach((dropdown) => {\n          // Set value for each dropdown\n          dropdown.value = stateValue;\n\n          // Trigger Finsweet filters\n          dropdown.dispatchEvent(new Event('input', { bubbles: true }));\n          dropdown.dispatchEvent(new Event('change', { bubbles: true }));\n        });\n      };\n    },\n  ]);\n};\n", "/**\n * Extends the Window interface to include the filterByState property.\n */\ndeclare global {\n  interface Window {\n    filterByState?: (stateName: string) => void;\n  }\n}\n\n/**\n * Initializes the SimpleMap hook for zoomable click state functionality.\n */\n// Ensure simplemaps_usmap is declared or imported\ndeclare const simplemaps_usmap: {\n  hooks: {\n    zoomable_click_state: (id: string) => boolean;\n  };\n};\n\nexport const initializeSimpleMap = () => {\n  simplemaps_usmap.hooks.zoomable_click_state = function (id: string) {\n    // Ensure simplemaps_usmap_mapdata is defined or imported\n    interface SimpleMapsData {\n      state_specific: {\n        [key: string]: {\n          name?: string;\n        };\n      };\n    }\n\n    const simplemapsData = (window as unknown as { simplemaps_usmap_mapdata?: SimpleMapsData })\n      .simplemaps_usmap_mapdata;\n    const stateName = simplemapsData?.state_specific[id]?.name;\n\n    if (window.filterByState) {\n      window.filterByState(stateName ?? ''); // Call the global filter function\n    } else {\n      return false;\n    }\n    return true;\n  };\n};\n", "/**\n * List of all US states.\n */\nexport const states = [\n  'Alabama',\n  'Alaska',\n  'Arizona',\n  'Arkansas',\n  'California',\n  'Colorado',\n  'Connecticut',\n  'Delaware',\n  'Florida',\n  'Georgia',\n  'Hawaii',\n  'Idaho',\n  'Illinois',\n  'Indiana',\n  'Iowa',\n  'Kansas',\n  'Kentucky',\n  'Louisiana',\n  'Maine',\n  'Maryland',\n  'Massachusetts',\n  'Michigan',\n  'Minnesota',\n  'Mississippi',\n  'Missouri',\n  'Montana',\n  'Nebraska',\n  'Nevada',\n  'New Hampshire',\n  'New Jersey',\n  'New Mexico',\n  'New York',\n  'North Carolina',\n  'North Dakota',\n  'Ohio',\n  'Oklahoma',\n  'Oregon',\n  'Pennsylvania',\n  'Rhode Island',\n  'South Carolina',\n  'South Dakota',\n  'Tennessee',\n  'Texas',\n  'Utah',\n  'Vermont',\n  'Virginia',\n  'Washington',\n  'West Virginia',\n  'Wisconsin',\n  'Wyoming',\n];\n\n/**\n * Populates a dropdown with US states.\n */\nexport const populateStateDropdown = () => {\n  const dropdowns = document.querySelectorAll<HTMLSelectElement>(\n    'select[data-name=\"State\"], select#state-dropdown, select.state-dropdown'\n  );\n\n  if (dropdowns.length === 0) {\n    return;\n  }\n\n  dropdowns.forEach((dropdown) => {\n    // Remove all options except first one (usually placeholder)\n    while (dropdown.options.length > 1) {\n      dropdown.remove(1);\n    }\n\n    states.forEach((state) => {\n      const option = new Option(state, state);\n      dropdown.add(option);\n    });\n  });\n};\n", "import { initializeFinsweetAttributes } from './utils/finsweet';\nimport { initializeSimpleMap } from './utils/simplemap';\nimport { populateStateDropdown } from './utils/states';\n\nwindow.Webflow ||= [];\nwindow.Webflow.push(() => {\n  // Wait for Webflow to fully load\n  window.addEventListener('load', function () {\n    populateStateDropdown(); // Populate the dropdown with states\n    initializeFinsweetAttributes(); // Initialize Finsweet Attributes\n    initializeSimpleMap(); // Initialize SimpleMap functionality\n    // Sync function: updates all dropdowns except master visually when master changes\n    function syncDropdowns() {\n      const masterDropdown = document.querySelector(\n        'select[fs-list-field=\"state\"][data-master=\"true\"]'\n      );\n      if (!masterDropdown) {\n        console.warn('Master dropdown not found!');\n        return;\n      }\n\n      masterDropdown.addEventListener('change', () => {\n        const selectedValue = masterDropdown.value;\n\n        const allDropdowns = document.querySelectorAll('select[fs-list-field=\"state\"]');\n        allDropdowns.forEach((dropdown) => {\n          if (dropdown !== masterDropdown) {\n            dropdown.value = selectedValue;\n          }\n        });\n\n        // Now trigger filtering once on master dropdown change\n        window.filterByState(selectedValue);\n      });\n    }\n\n    window.addEventListener('load', () => {\n      syncDropdowns();\n    });\n  });\n});\n"],
  "mappings": "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",
  "names": []
}
